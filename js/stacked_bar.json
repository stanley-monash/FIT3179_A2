
  {
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "data": {"url": "https://raw.githubusercontent.com/stanley-monash/A2/main/data/aggregate.csv"},
    "width": 500, "height": 300,
    "resolve": {"scale": {"color": "independent"}},
    "layer": [
       {"mark": "bar",
        "encoding": {
          "x": {"aggregate": "mean", "field": "Healthy_life_expectancy", "type": "quantitative", "stack": "zero","title":"life expectancy"},
          "y": {"field": "Year", "type": "ordinal"},
          "color": {"field": "Continent", "type": "nominal"},
          "tooltip": [
            {"field": "Continent", "type": "nominal"},
            {
              "field": "Healthy_life_expectancy",
              "type": "quantitative",
              "aggregate": "mean",
              "format": ".2f",
              "title": "expectancy"
          }
                  ]}
          
       },
       {"mark": {"type": "text", "dx": -15, "dy": 3},
        "encoding": {
          "x": {"aggregate": "mean", "field": "Healthy_life_expectancy", "type": "quantitative", "stack": "zero"},
          "y": {"field": "Year", "type": "ordinal"},
          "color": {"field": "Continent", "type": "nominal", "scale": {"range": ["white"]}, "legend": null},
          "text": {"aggregate": "mean", "field": "Healthy_life_expectancy", "type": "quantitative", "format": ".1f"}}
      }
     
    ]
  }